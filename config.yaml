# =============================================================================
# Agent Council Configuration
# =============================================================================
#
# This file defines all models, council presets, and default settings.
#
# HOW TO FIND YOUR MODEL IDENTIFIERS:
#   1. Start LM Studio's local server (Developer tab → Start Server)
#   2. Run: curl http://localhost:1234/v1/models
#   3. The "id" field in each model is what you put in "identifier" below
#   4. Or check the Agent Council UI → it will show available models
#
# TIP: After changing this file, restart the Agent Council server.
# =============================================================================

lm_studio:
  base_url: "http://localhost:1234/v1"
  api_key: "lm-studio"  # LM Studio doesn't need a real key

# =============================================================================
# Model Definitions
# =============================================================================
#
# Each model entry maps a short key (used in council configs below) to its
# LM Studio identifier and metadata.
#
# IMPORTANT: The "identifier" field MUST match what LM Studio reports.
# Run `curl http://localhost:1234/v1/models` to see exact identifiers.
# The identifiers below are best guesses — you may need to adjust them
# after checking your LM Studio.
# =============================================================================

models:
  # ---------------------------------------------------------------------------
  # NEW: Downloaded SLMs (Small Language Models) — Primary Council Agents
  # These are the fast, efficient models used for debate agents
  # ---------------------------------------------------------------------------

  phi4-mini:
    name: "Phi-4 Mini Reasoning"
    identifier: "phi-4-mini-reasoning-mlx"
    strengths: ["reasoning", "math", "analysis", "chain-of-thought"]
    context_length: 8192
    size: "3.8B"

  llama-3b:
    name: "Llama 3.2 3B Instruct"
    identifier: "llama-3.2-3b-instruct"
    strengths: ["general", "fast", "instruction-following"]
    context_length: 8192
    size: "3B"

  qwen-7b:
    name: "Qwen2.5 7B Instruct"
    identifier: "qwen2.5-7b-instruct"
    strengths: ["general", "structured-output", "instruction-following"]
    context_length: 8192
    size: "7B"

  deepseek-r1:
    name: "DeepSeek R1 Distill 7B"
    identifier: "deepseek-r1-distill-qwen-7b"
    strengths: ["reasoning", "chain-of-thought", "analysis"]
    context_length: 8192
    size: "7B"

  gemma-9b:
    name: "Gemma 2 9B IT"
    identifier: "gemma-2-9b-it"
    strengths: ["general", "instruction-following", "multilingual"]
    context_length: 8192
    size: "9B"

  # ---------------------------------------------------------------------------
  # EXISTING: Your previously downloaded models
  # Larger models — used for pipeline tasks or solo heavy lifting
  # ---------------------------------------------------------------------------

  yi-34b:
    name: "Yi 1.5 34B Chat"
    identifier: "yi-1.5-34b-chat"
    strengths: ["reasoning", "analysis", "general"]
    context_length: 4096
    size: "34B"

  qwen-coder-32b:
    name: "Qwen2.5 Coder 32B"
    identifier: "qwen/qwen2.5-coder-32b"
    strengths: ["coding", "debugging", "technical"]
    context_length: 4096
    size: "32B"

  gpt-oss:
    name: "GPT-OSS 20B"
    identifier: "openai/gpt-oss-20b"
    strengths: ["reasoning", "general", "creative"]
    context_length: 4096
    size: "20B"

  starcoder:
    name: "StarCoder2 7B"
    identifier: "starcoder2-7b"
    strengths: ["coding", "code-completion"]
    context_length: 4096
    size: "7B"

  llama-8b:
    name: "Meta Llama 3.1 8B Instruct"
    identifier: "meta-llama-3.1-8b-instruct"
    strengths: ["general", "reasoning", "fast"]
    context_length: 4096
    size: "8B"

  mistral-7b:
    name: "Mistral 7B Instruct v0.3"
    identifier: "mistralai/mistral-7b-instruct-v0.3"
    strengths: ["general", "reasoning", "fast"]
    context_length: 4096
    size: "7B"

  qwen-coder-14b:
    name: "Qwen2.5 Coder 14B"
    identifier: "qwen/qwen2.5-coder-14b"
    strengths: ["coding", "debugging", "technical"]
    context_length: 4096
    size: "14B"

# =============================================================================
# Council Presets
# =============================================================================
#
# Each council defines:
#   - name: Display name in the UI
#   - description: What this council is best for
#   - strategy: "debate", "pipeline", or "vote"
#   - debate_rounds: Number of debate rounds (debate strategy only)
#   - agents: List of agents with model, role, and persona
#   - moderator: The agent that synthesizes the final answer
#
# TIPS:
#   - Use smaller models (3B-7B) for debate agents to keep things fast
#   - Use larger models for moderator or pipeline architect roles
#   - Each agent's persona shapes their behavior — be specific!
# =============================================================================

councils:
  # ---------------------------------------------------------------------------
  # General Council — For everyday questions, analysis, and decision-making
  # Strategy: Debate (agents argue and refine across rounds)
  # Models: Phi-4 Mini (analyst) + Llama 3B (creative) + DeepSeek R1 (skeptic)
  # RAM: ~12GB total (all three can load simultaneously)
  # ---------------------------------------------------------------------------
  general:
    name: "General Council"
    description: "For general questions, analysis, and decision-making"
    strategy: "debate"
    debate_rounds: 2
    agents:
      - model: "phi4-mini"
        role: "Analyst"
        persona: >
          You are a sharp analytical thinker. Break down problems logically,
          identify underlying assumptions, and evaluate evidence carefully.
          Structure your response clearly with key points. Challenge weak
          reasoning when you see it. Be thorough but concise.

      - model: "llama-3b"
        role: "Creative Thinker"
        persona: >
          You are a creative and lateral thinker. Offer unique perspectives
          that others might miss. Consider unconventional solutions and
          think outside the box. Challenge groupthink and status quo thinking.
          Your role is to expand the solution space, not narrow it.

      - model: "deepseek-r1"
        role: "Devil's Advocate"
        persona: >
          You are a critical skeptic and devil's advocate. Your job is to
          question assumptions, point out flaws in reasoning, identify risks,
          and argue the opposing view. Be constructive — don't just criticize,
          but explain WHY something might fail and what alternatives exist.
          Ensure the council doesn't overlook important problems.

    moderator:
      model: "qwen-7b"
      persona: >
        You are the council moderator. Your job is to synthesize all agent
        responses into a clear, balanced, and actionable final answer.
        Highlight key areas of agreement and disagreement. Weigh the
        arguments fairly and provide a definitive recommendation. Structure
        your response with: 1) Summary, 2) Key Points of Agreement,
        3) Key Disagreements, 4) Final Recommendation.

  # ---------------------------------------------------------------------------
  # Code Council — For code generation, review, and debugging
  # Strategy: Pipeline (sequential: architect → reviewer → optimizer)
  # Models: Qwen 7B (architect) + DeepSeek R1 (reviewer) + Phi-4 (optimizer)
  # RAM: ~12GB (models swap sequentially)
  # ---------------------------------------------------------------------------
  coding:
    name: "Code Council"
    description: "For code generation, review, and debugging"
    strategy: "pipeline"
    agents:
      - model: "qwen-7b"
        role: "Architect"
        persona: >
          You are a senior software architect. Design the solution structure,
          choose appropriate patterns, and write the initial implementation.
          Focus on clean, maintainable, well-documented code. Include comments
          explaining key decisions. Use best practices for the language/framework.

      - model: "deepseek-r1"
        role: "Reviewer"
        persona: >
          You are a meticulous senior code reviewer. Review the code provided
          by the Architect for: bugs, security vulnerabilities, performance
          issues, edge cases, error handling, and adherence to best practices.
          Provide specific, actionable feedback with code examples of fixes.
          Rate the code quality and list issues by severity.

      - model: "phi4-mini"
        role: "Optimizer"
        persona: >
          You are a code optimizer and polisher. Take the code and review
          feedback from previous steps. Apply all suggested fixes, optimize
          performance, improve readability, and ensure the final code is
          production-ready. Add proper error handling, input validation,
          and documentation. Output the complete, refined final code.

    moderator:
      model: "llama-3b"
      persona: >
        You are the code council moderator. Present the final, refined code
        solution clearly. Provide a brief summary of: 1) The architectural
        approach chosen, 2) Key issues found during review, 3) Optimizations
        applied, 4) The final production-ready code. Keep it organized.

  # ---------------------------------------------------------------------------
  # Research Council — For deep research, analysis, and comprehensive answers
  # Strategy: Debate (3 rounds for thorough exploration)
  # Models: Gemma 9B (researcher) + DeepSeek R1 (fact checker) + Phi-4 (synthesizer)
  # RAM: ~14GB (may need sequential loading)
  # ---------------------------------------------------------------------------
  research:
    name: "Research Council"
    description: "For deep research, analysis, and comprehensive answers"
    strategy: "debate"
    debate_rounds: 3
    agents:
      - model: "gemma-9b"
        role: "Researcher"
        persona: >
          You are a thorough researcher. Provide comprehensive, well-structured
          information on the topic. Cover multiple angles, consider historical
          context, and explain nuances. Organize your findings clearly with
          sections and bullet points. Be precise and informative.

      - model: "deepseek-r1"
        role: "Fact Checker"
        persona: >
          You are a rigorous fact checker and critical analyst. Examine claims
          made by other agents for accuracy and logical consistency. Identify
          potential inaccuracies, biases, or unsupported claims. When you
          find issues, explain why and provide corrections. Clearly mark
          what is well-established vs. what needs further verification.

      - model: "phi4-mini"
        role: "Synthesizer"
        persona: >
          You are an expert synthesizer and pattern finder. Connect ideas
          across different domains and perspectives. Identify overarching
          themes, contradictions, and gaps in the discussion. Create a
          unified understanding from diverse inputs. Highlight insights
          that emerge from combining different viewpoints.

    moderator:
      model: "qwen-7b"
      persona: >
        You are the research council moderator. Create a comprehensive,
        well-organized final report. Structure it as: 1) Executive Summary,
        2) Key Findings, 3) Areas of Consensus, 4) Contested Points,
        5) Conclusions & Recommendations. Clearly distinguish verified
        facts from claims that need further verification.

# =============================================================================
# Default Settings
# =============================================================================
#
# These defaults are used unless overridden in the UI settings panel.
#
# temperature: Controls randomness (0.0 = deterministic, 1.0 = creative)
# max_tokens: Maximum length of each agent's response
# council: Which council preset to select by default in the UI
# =============================================================================

defaults:
  temperature: 0.7
  max_tokens: 1024
  council: "general"
